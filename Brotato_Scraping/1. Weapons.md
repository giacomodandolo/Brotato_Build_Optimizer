# GENERAL NOTES
Weapons are the primary damage dealers. They can be Melee or Ranged. 
### Rarity
Weapons come in 4 different tiers. Some weapons have a minimum tier that they can appear as. 
If you have two identical weapons of the same tier, you can combine them into one weapon of one higher tier.
The four tiers are:
- Tier 1 (Common);
- Tier 2 (Uncommon);
- Tier 3 (Rare);
- Tier 4 (Legendary).
### Damage Types
Each weapon scales with one or more of the stats shown in the table. Each stat is described by an Identifier (ID), which is abbreviated by a Short ID in the documentation.

| **ID**       | Melee Damage | Range Damage | Elemental Damage | Armor | Engineering | Range | Attack Speed | Level |
| ------------ | :----------: | :----------: | :--------------: | :---: | :---------: | :---: | :----------: | :---: |
| **SHORT ID** |      MD      |      RD      |        ED        |   A   |      E      |   R   |      AS      |   L   |

---
# DATA SPECIFICS
In this section, we will list the characteristics needed to memorize all weapons and the data structure.
### Necessary informations
Every scaling stat, attack speed, crit damage, crit chance, range, knockback, lifesteal and base price value are based on the 4 tiers of the weapon.
Each weapon is fully defined by the informations shown in the following table, in which x identifies each type of damage.

| **NAME**       | Name | Class | Base Damage | x Scaling | Attack Speed | Crit Damage | Crit Chance | Range | Knockback | Lifesteal | Special Effects | Base Price |
| -------------- | :--: | :---: | :---------: | :-------: | :----------: | :---------: | :---------: | :---: | :-------: | :-------: | :-------------: | :--------: |
| **SHORT NAME** |  N   |   C   |     BD      |    xSc    |      AS      |     CD      |     CC      |   R   |     K     |     L     |       SE        |     BP     |
### Data Structure
To define the needed data structure, we must first define the base class for each single weapon.
```python
class WeaponClass:
    N = ""          # String
    C = []          # String
    BD = []         # Integer
    MDSc = []       # Float
    RDSc = []       # Float
    EDSc = []       # Float
    ASc = []        # Float
    ESc = []        # Float
    RSc = []        # Float
    ASSc = []       # Float
    LSc = []        # Float
    AS = []         # Float
    CD = []         # Float
    CC = []         # Float
    R = []          # Integer
    K = []          # Integer
    L = []          # Float
    SE = ""         # String
    BP = []         # Integer
```
In this class we can create a print function, and for each attribute a set, clear and get functions. 
Let's see an example for the attribute N and the attribute C.
```python
# Print
def __str__(self):
        return f"Name: {self.N}\nClass: {self.C}\nBase Damage: {self.BD}\nMelee Damage Scaling: {self.MDSc}\nRanged Damage Scaling: {self.RDSc}\nElemental Damage Scaling: {self.EDSc}\nArmor Scaling: {self.ASc}\nEngineering Scaling: {self.ESc}\nRange Scaling: {self.RSc}\nAttack Speed Scaling: {self.ASSc}\nLevel Scaling: {self.LSc}\nAttack Speed: {self.AS}\nCrit Damage: {self.CD}\nCrit Chance: {self.CC}\nRange: {self.R}\nKnockback: {self.K}\nLevel: {self.L}\nSpecial Effects: {self.SE}\nBase Price: {self.BP}\n"

# N
def setN(cls, newN):
	cls.N = newN

def clearN(cls):
    cls.N = ""

def getN(cls):
	return cls.N

# C
def setC(cls, newC):
    cls.C = newC

def clearC(cls):
	cls.C = []

def getC(cls):
	return cls.C
```
We can create an object using a python class constructor. Each object can be inserted into an array in which all the weapons will be contained.
Let's see an example.
```python
# Creation of the object
weapon = WeaponClass()

# Inserting weapon in the array
weapons.append(weapon)
```
---
# WEB SCRAPING SPECIFICS
All data shall be extracted from the [Brotato Wiki page for Weapons](https://brotato.wiki.spellsandguns.com/Weapons).
You can observe that the data needed to get extracted is all in the tags `<td>`, in intervals of 12 per item, since there are 12 columns in the wiki. So, the first thing to do is to obtain all `<td>` elements.
```python
allTDs = requestSoup.findAll("td")
```
After this, we need to define how to obtain every information needed. 
Since it is in intervals of 12 `<td>` per item, we can define a constant `MOD_WEAPONS = 12`, which shall be used to obtain the appropriate index. We shall define the relative position as the position of the td relative to the row, which can have position 0 to 11.
```python
relativePosition = tdIndex % MOD_WEAPONS
```
### Name
In relative position 0, we can obtain the name by using the following instruction:
```python
values = allTDs[tdIndex].text
```
### Class
In relative position 1, we can obtain the classes by using the following instruction:
```python
values = allTDs[tdIndex].text
```
Since this instruction can obtain a string with multiple classes, we need to split the string using the following instruction:
```python
valuesSplit = classes.split(", ")
```
### Base Damage and scalings

> [!NOTE] TODO - 
> - [ ] Obtain the base damage.
> - [ ] Obtain the various damage types.
> - [ ] Divide in various tiers.

### Attack Speed
In relative position 3, we can obtain the attack speed values by using the following instruction:
```python
values = allTDs[tdIndex].text
```
Since this instruction obtains a string with multiple attack speed values, we need to split the string.
```python
valueSplit = values.split("\n")
```
After this, we need to cast each value into floats after stripping the "s" character, considering values that are not numbers as -1.
```python
valueSet = []
for i, item in enumerate(valueSplit[1:5]):
	if(item != "-" and item != " -"):
		valueSet.append(float(item.strip("s")))
	else:
		valueSet.append(-1)
```
### Crit Damage and Crit Chance
In relative position 5, we can obtain the crit damage and crit chance values by using the following instruction:
```python
values = allTDs[tdIndex].text
```
Since this instruction obtains a string with multiple crit damage and crit chance values, we need to split the string.
```python
valueSplit = values.split("\n")
```
After this, we need to divide the values into crit damage and crit chance, cast each value into floats after stripping the " x" character for crit damage strings and the "%) " character for crit chance, considering values that are not numbers as -1.
```python
valueSetCD = []
valueSetCC = []
for i, item in enumerate(valueSplit[1:5]):
	if(item != "-" and item != " -"):
		valueParSplit = item.split("(")
		valueSetCD.append(float(valueParSplit[0].strip(" x")))
		valueSetCC.append(float(valueParSplit[1].strip("%) ")))
	else:
		valueSetCD.append(-1)
		valueSetCC.append(-1)
```
### Range
In relative position 6, we can obtain the range values by using the following instruction:
```python
values = allTDs[tdIndex].text
```
Since this instruction obtains a string with multiple range values, we need to split the string.
```python
valueSplit = values.split("\n")
```
After this, we need to cast each value into integers, considering values that are not numbers as -1.
```python
valueSet = []
for i, item in enumerate(valueSplit[1:5]):
	if(item != "-" and item != " -"):
		valueSet.append(int(item))
	else:
		valueSet.append(-1)
```
### Knockback
In relative position 7, we can obtain the knockback values by using the following instruction:
```python
values = allTDs[tdIndex].text
```
Since this instruction obtains a string with multiple knockback values, we need to split the string.
```python
valueSplit = values.split("\n")
```
After this, we need to cast each value into integers, considering values that are not numbers as -1.
```python
valueSet = []
for i, item in enumerate(valueSplit[1:5]):
	if(item != "-" and item != " -"):
		valueSet.append(int(item))
	else:
		valueSet.append(-1)
```
### Lifesteal
In relative position 8, we can obtain the lifesteal values by using the following instruction:
```python
values = allTDs[tdIndex].text
```
Since this instruction obtains a string with multiple lifesteal values, we need to split the string.
```python
valueSplit = values.split("\n")
```
After this, we need to cast each value into floats after stripping the "%" character and then dividing by 100, considering values that are not numbers as -1.
```python
valueSet = []
for i, item in enumerate(valuesSplit[1:5]):
	if(item != "-" and item != " -"):
		valueSet.append(float(item.strip("%"))/100)
	else:
		valueSet.append(-1)
```
### Special Effects

> [!NOTE] TODO - 
> - [ ] Obtain the various damage types.
> - [ ] Divide in various tiers.

### Base Price
In relative position 10, we can obtain the base price values by using the following instruction:
```python
values = allTDs[tdIndex].text
```
Since this instruction obtains a string with multiple base price values, we need to split the string.
```python
valueSplit = values.split("\n")
```
After this, we need to cast each value into integers, considering values that are not numbers as -1.
```python
valueSet = []
for i, item in enumerate(valuesSplit[1:5]):
	if(item != "-" and item != " -"):
		valueSet.append(float(item.strip("%"))/100)
	else:
		valueSet.append(-1)
```
